<% second_row = (char.notes && char.notes != "") %>
<% tr_klass = char.highlight ? %w(table-info) : [] %>
<% td_attrs = second_row ? { rowspan: 2 } : {} %>

<%= tag.tr(id: "char-#{char.id}", class: tr_klass, data: { 'object-id': char.id }) do %>
  <%= tag.td(td_attrs) do %>
    <%= tag.i(class: %w(bi bi-pencil-fill text-primary edit-button), title: 'Edit Character') %>
    <%= tag.i(class: %w(bi bi-trash-fill text-primary delete-button), title: 'Delete Character') %>
  <% end %>
  <%= tag.td(char.nym, td_attrs) %>
  <% Character::TABLE_FIELDS.each do |meth| %>
    <%= tag.td(char.send(meth), class: %w(text-center)) %>
  <% end %>
<% end %>

<% if second_row %>
  <%= tag.tr(id: "notes-#{char.id}", class: tr_klass, 'data-notes-id' => char.id) do %>
    <%= tag.td(char.notes, colspan: 30) %>
  <% end %>
<% end %>
