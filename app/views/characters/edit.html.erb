<%
  model = @char ? @char : Character
  verb = @char ? 'Edit' : 'New'
  submit_verb = @char ? 'Update' : 'Add'
%>
<%= tag.div(class: %w(modal-dialog)) do %>
  <%= form_with(model: model, html: { role: 'form', id: 'char-form', class: 'form' }) do |f| %>
    <%= tag.div(class: %w(modal-content)) do %>
      <%= tag.div(class: %w(modal-header)) do %>
        <%= tag.h5("#{verb} Character", id: 'char-modal-label', class: %w(modal-title)) %>
        <%= tag.button(type: 'button', class: %w(btn-close), 'data-bs-dismiss': 'modal',
                       aria: { label: 'close' }) %>
      <% end %>

      <%= tag.div(class: %w(modal-body)) do %>
        <%= tag.div(class: %w(form-group)) do %>
          <%= f.label(:name, class: %w(form-label)) %>
          <%= f.text_field(:name, class: %w(form-control)) %>
        <% end %>

        <%= tag.div(class: %w(row)) do %>
          <% %i(str dex con int wis chr).each do |field| %>
            <%= tag.div(class: %w(form-group col-sm-2 text-center)) do %>
              <%= f.label(field, class: %w(form-label)) %>
              <%= f.text_field(field, class: %w(form-control text-center)) %>
            <% end %>
          <% end %>
        <% end %>

        <%= tag.div(class: %w(row)) do %>
          <% %i(perception initiative speed ac).each do |field| %>
            <%= tag.div(class: %w(form-group col-sm-3 text-center)) do %>
              <%= f.label(field, class: %w(form-label)) %>
              <%= f.text_field(field, class: %w(form-control text-center)) %>
            <% end %>
          <% end %>
        <% end %>

        <%= tag.div(class: %w(form-group)) do %>
          <%= f.label(:notes, class: %w(form-label)) %>
          <%= f.text_field(:notes, class: %w(form-control)) %>
        <% end %>

        <%= tag.div(class: %w(form-group row)) do %>
          <%= tag.div(class: %w(col)) do %>
            <%= tag.div(class: %w(form-check)) do %>
              <%= f.check_box(:highlight, class: %w(form-check-input)) %>
              <%= f.label(:highlight, class: %w(form-check-label)) %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>

      <%= tag.div(class: %w(modal-footer)) do %>
        <%= tag.button('Cancel', type: 'button', class: %w(btn btn-outline-secondary),
          data: { dismiss: 'modal' }) %>
        <%= tag.button(submit_verb, type: 'button', id: 'char-modal-ok', class: %w(btn btn-success),
          data: { dismiss: 'modal' }) %>
      <% end %>
    <% end %>
  <% end %>
<% end %>
