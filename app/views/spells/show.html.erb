<%= tag.div(class: %w(modal-dialog)) do %>
  <%= form_with(model: @spell, scope: 'edit_spell', html: { role: 'form', id: 'editspell-form', class: 'form' }) do |f| %>
    <%= tag.div(class: %w(modal-content)) do %>
      <%= tag.div(class: %w(modal-header)) do %>
        <%= tag.h5('Edit Spell', id: 'editspell-label', class: %w(modal-title)) %>
        <%= tag.button(type: 'button', class: %w(btn-close), 'data-bs-dismiss': 'modal',
                       aria: { label: 'close' }) %>
      <% end %>

      <%= tag.div(class: %w(modal-body)) do %>
        <%= tag.div(class: %w(form-group row)) do %>
          <%= f.label(:name, class: %w(col-form-label col-sm-4)) %>
          <%= f.text_field(:name, class: %w(form-control col)) %>
        <% end %>
        <%= tag.div(class: %w(form-group row)) do %>
          <%= f.label(:school_id, class: %w(col-form-label col-sm-4)) %>
          <%= f.select(:school_id, SpellSchool.options_for_select, {}, { class: %w(form-control col) }) %>
        <% end %>
        <%= tag.div(class: %w(form-group row)) do %>
          <%= f.label(:level, class: %w(col-form-label col-sm-4)) %>
          <% level_select_options = [['Cantrip', 0]] %>
          <% (1..9).each { |i| level_select_options << ["Level #{i}", i] } %>
          <%= f.select(:level, level_select_options, {}, { class: %w(form-control col) }) %>
        <% end %>
        <%= tag.div(class: %w(form-group row)) do %>
          <%= f.label(:cast_unit, class: %w(col-form-label col-sm-4)) %>
          <%= f.text_field(:cast_n, class: %w(form-control disabled col col-sm-2)) %>
          <%= f.select(:cast_unit, TimeUnit.options_for_select, {}, { class: %w(form-control col) }) %>
        <% end %>
        <%= tag.div(class: %w(form-group row)) do %>
          <%= tag.span(class: %w(col-sm-4)) %>
          <%= tag.div(class: %w(col)) do %>
            <%= tag.div(class: %w(form-check)) do %>
              <%= f.check_box(:ritual, class: %w(form-check-input)) %>
              <%= f.label(:ritual, class: %w(form-check-label)) %>
            <% end %>
          <% end %>
        <% end %>
        <%= tag.div(class: %w(form-group row)) do %>
          <%= f.label(:range_unit, class: %w(col-form-label col-sm-4)) %>
          <%= f.text_field(:range_n, class: %w(form-control disabled col col-sm-2)) %>
          <%= f.select(:range_unit, DistanceUnit.options_for_select, {}, { class: %w(form-control col) }) %>
        <% end %>
        <%= tag.div(class: %w(form-group row)) do %>
          <%= f.label(:components, class: %w(form-label col-sm-4)) %>
          <%= tag.div(class: %w(col)) do %>
            <% [:verbal, :somatic, :material, :focus].each do |component| %>
              <%= tag.div(class: %w(form-check)) do %>
                <%= f.check_box(component, class: %w(form-check-input)) %>
                <%= f.label(component, class: %w(form-check-label)) %>
              <% end %>
            <% end %>
          <% end %>
        <% end %>
        <%= tag.div(class: %w(form-group row)) do %>
          <%= f.label(:duration_unit, class: %w(col-form-label col-sm-4)) %>
          <%= f.text_field(:duration_n, class: %w(form-control disabled col col-sm-2)) %>
          <%= f.select(:duration_unit, TimeUnit.options_for_select, {}, { class: %w(form-control col) }) %>
        <% end %>
        <%= tag.div(class: %w(form-group row)) do %>
          <%= tag.span(class: %w(col-sm-4)) %>
          <%= tag.div(class: %w(col)) do %>
            <%= tag.div(class: %w(form-check)) do %>
              <%= f.check_box(:concentration, class: %w(form-check-input)) %>
              <%= f.label(:concentration, class: %w(form-check-label)) %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>

      <%= tag.div(class: %w(modal-footer)) do %>
        <%= tag.button('Cancel', type: 'button', class: %w(btn btn-outline-secondary),
                       data: { dismiss: 'modal' }) %>
        <%= tag.button('Update', type: 'button', id: 'editspell-ok', class: %w(btn btn-success),
                       data: { dismiss: 'modal' }) %>
      <% end %>
    <% end %>
  <% end %>
<% end %>
