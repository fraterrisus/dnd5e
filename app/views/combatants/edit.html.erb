<%
  model = @char ? @char : Combatant
  verb = @char ? 'Edit' : 'New'
  submit_verb = @char ? 'Update' : 'Add'
%>
<%= tag.div(class: %w(modal-dialog)) do %>
  <%= form_with(model: model, html: { role: 'form', id: 'object-form', class: 'form' }) do |form| %>
    <%= tag.div(class: %w(modal-content)) do %>
      <%= tag.div(class: %w(modal-header)) do %>
        <%= tag.h5("#{verb} Combatant", id: 'object-modal-label', class: %w(modal-title)) %>
        <%= tag.button(type: 'button', class: %w(btn-close), 'data-bs-dismiss': 'modal',
                       aria: { label: 'close' }) %>
      <% end %>

      <%= tag.div(class: %w(modal-body)) do %>
        <%= tag.div(class: %w(row mb-3)) do %>
          <%= tag.div(class: %w(form-group col-sm-9)) do %>
            <%= form.label(:name)  %>
            <%= form.text_field(:name, class: 'form-control') %>
          <% end %>
          <%= tag.div(class: %w(form-group col-sm-3)) do %>
            <%= form.label(:time) %>
            <%= form.text_field(:time, class: %w(form-control col-xs-2)) %>
          <% end %>
        <% end %>
        <%= tag.div(class: %w(row)) do %>
          <%= tag.div(class: %w(form-group col)) do %>
            <%= form.label(:notes)  %>
            <%= form.text_field(:notes, class: 'form-control') %>
          <% end %>
        <% end %>
      <% end %>

      <%= tag.div(class: %w(modal-footer)) do %>
        <%= tag.button('Cancel', type: 'button', class: %w(btn btn-outline-secondary),
                       'data-bs-dismiss': 'modal') %>
        <%= tag.button(submit_verb, type: 'button', id: 'object-modal-ok', class: %w(btn btn-success),
                       'data-bs-dismiss': 'modal') %>
      <% end %>
    <% end %>
  <% end %>
<% end %>
