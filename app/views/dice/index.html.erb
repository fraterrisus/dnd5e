<% content_for :head do %>
<%= javascript_pack_tag 'dice' %>
<% end %>

<%= safe_join([
  tag.h1('Die Roller'),
  tag.div(id: 'dicebar', class: %w(panel panel-default)) do
    content_tag(:div, class: %w(panel-body)) do
      form_tag('#', html: { class: 'form', role: 'form' } ) do safe_join [

        tag.div(class: 'form-group') do
          safe_join [
            tag.div(class: %w(form-check form-check-inline)) do
              safe_join [
                tag.input(class: 'form-check-input', type: 'radio', name: 'adv', id: 'adv_-1', value: -1),
                tag.label('Disadvantage', class: 'form-check-label', for: 'adv_-1')
              ]
            end,
            tag.div(class: %w(form-check form-check-inline)) do safe_join [
              tag.input(class: 'form-check-input', type: 'radio', name: 'adv', id: 'adv_0', value: 0, checked: true),
              tag.label('Neither', class: 'form-check-label', for: 'adv_0') ]
            end,
            tag.div(class: %w(form-check form-check-inline)) do safe_join [
              tag.input(class: 'form-check-input', type: 'radio', name: 'adv', id: 'adv_1', value: 1),
              tag.label('Advantage', class: 'form-check-label', for: 'adv_1') ]
            end
          ]
        end,

        tag.div(class: %w(form-group row)) do
          content_tag(:div, class: %w(col-xs-6 col-sm-3 col-md-2)) do
            content_tag(:div, class: %w(input-group)) do
              button_tag('', type: 'button', id: 'numdice-minone',
                         class: %w(btn btn-default btn-outline-primary fas fa-minus)) <<

              text_field_tag('numdice', '1', class: %w(form-control)) <<

              button_tag('', type: 'button', id: 'numdice-plsone',
                         class: %w(btn btn-default btn-outline-primary fas fa-plus))
            end
          end
        end,

        content_tag(:div, class: %w(form-group)) do
          content_tag(:div, class: %w(btn-group)) do
            button_tag('d4', type: 'button', id: 'roll-4', class: %w(btn btn-outline-secondary)) <<
            button_tag('d6', type: 'button', id: 'roll-6', class: %w(btn btn-outline-secondary)) <<
            button_tag('d8', type: 'button', id: 'roll-8', class: %w(btn btn-outline-secondary)) <<
            button_tag('d10', type: 'button', id: 'roll-10', class: %w(btn btn-outline-secondary)) <<
            button_tag('d12', type: 'button', id: 'roll-12', class: %w(btn btn-outline-secondary)) <<
            button_tag('d20', type: 'button', id: 'roll-20', class: %w(btn btn-outline-primary))
          end
        end ]
      end
    end <<
    content_tag(:div, '&nbsp;Result:'.html_safe, id: 'dicebar-result', class: %w(panel-footer))
  end
]) %>
